@model Financial_Management_Application.Models.ProductVM.DeleteViewModel
@{
    ViewBag.Title = "Delete";
}
<hr style="margin:0 0 12px 0" />
@Html.ActionLink("View Products", "Index", null, new { @class = "btn" })
<hr style="margin:0 0 12px 0" />
transfer from the old product to a newer one that reference the same transaction
@if (@Model.transactions.Count > 1)
{
    using (Html.BeginForm("Delete", "Product", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
    {
        <h2>All linked products must have a category</h2>
        <div class="form-group">
            For all products assign to category:
            <div class="col-md-10">
                @Html.DropDownListFor(m => m.allTransactions, @Model.products, new { @class = "form-control" })
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" class="btn btn-default" value="Save Category" />
            </div>
        </div>

        <hr />
    }
}
@using (Html.BeginForm("Delete", "Product", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
{
<table class="table">
    <thead>
        <tr>
            <th>Cart Id</th>
            <th>Name</th>
            <th>Price</th>
            <th>Quantity</th>
            <th></th>
        </tr>
    </thead>
    <tbody id="tableBody">
        @for (int i = 0; i < Model.transactions.Count; i++)
        {
            <tr id="Edit@(Model.transactions[i].Id)">
                <td>@Model.transactions[i].cartId</td>
                <td>@Model.transactions[i].Product.name</td>
                <td>@Model.transactions[i].unitPrice</td>
                <td>@Model.transactions[i].quantity</td>
                <td class="form-group">
                    <div class="col-md-10">
                        @Html.ActionLink("Create new Product", "Create", "Product")
                        @Html.DropDownListFor(m => m.transactionDefProduct[i], @Model.products, new { @class = "form-control" })
                    </div>
                </td>
            </tr>
        }
    </tbody>
</table>

<div class="form-group">
    <div class="col-md-offset-2 col-md-10">
        <input type="submit" class="btn btn-default" value="Save Product" />
    </div>
</div>
}
